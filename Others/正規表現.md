# 正規表現

正規表現は//で囲む
/正規表現/

## エスケープ

スラッシュを使って正規表現オブジェクトを作るので、正規表現中に出てくるスラッシュはエスケープする必要がある。
「\」でエスケープ可能

## メタ文字

### 任意の1文字

```ruby
. #任意の1文字
```

### 1個の半角数字（0123456789）、ディジット

```ruby
\d
```

### 英単語を構成する文字

```ruby
\w #[a-zA-Z0-9_]と同義
```

### 空白文字

```ruby
\t #タブ
\s #空白文字全般
```

### 文字の個数を限定。量指定子

```ruby
{n,m} #直前の文字が n 個以上、m 個以下
{n} #直前の文字ちょうど n 文字
\d{2,5} #半角数字が2個以上5文字以下
```

### 直前の文字が 1文字以上

```ruby
[0-9]+ #半角数字が1文字以上
.+ #任意の文字が1文字以上
```

### 直前の文字が0文字以上。量指定子

```ruby
[0-9]* #半角数字が0文字以上
.* #任意の文字が0文字以上
```

### ～が1文字、 もしくは無し。量指定子

```ruby
[0-9]? #半角数字が1文字、もしくは無し
```

### いずれか1文字

```ruby
[AB] #AまたはBのいずれか1文字
[ABC] #AまたはBまたはCのいずれか1文字
\d{2,5}[-(] #半角数字が2個以上5文字以下で末尾に-か(がある
```

### 文字の範囲

```ruby
[a-z] #a～zの1文字
[a-zA-Z0-9] #半角英数字1文字
```

### キャプチャ

正規表現に `( )` を使うと、その部分がキャプチャ（捕捉）される。
キャプチャすることで該当部分の取得が可能となる。

```ruby
<select name="game_console">
<option value="wii_u">Wii U</option>
<option value="ps4">プレステ4</option>
<option value="gb">ゲームボーイ</option>
</select>
    
<option value="([a-z0-9_]+)">(.+)<\/option>
これを$1,$2に置換すると、以下のように新しい文字列を組み立てることができる。
wii_u,Wii U
ps4,プレステ4
gb,ゲームボーイ

```

### グループ化

```ruby
A? #Aがあり、または無し
(ABC)? #文字列 ABC があり、または無し ()がグループ化

#ただし、キャプチャする場合はキャプチャされてしまうので、
(?: ABC)? #?:でキャプチャを回避することができる。
```

### OR条件

```ruby
(ABC|DEF) #文字列ABC、または文字列DEF
```

### 否定条件

```ruby
[^AB] #AでもなくBでもない文字1文字
```

### 後読み

```ruby
(?<=abc) # "abc" という文字列そのものではなく、その文字列の「直後の位置」
```

### 先読み

```ruby
(?=abc) #"abc" という文字列そのものではなく、その文字列の「直前の位置」
```

### アンカー

```ruby
^ #行頭
$ #行末
\b #単語の境界 スペース、ピリオド、ダブルクオート、行頭や行末、様々
```







