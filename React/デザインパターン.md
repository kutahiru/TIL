# デザインパターン

## Container/Presentationalパターン（コンテナ・プレゼンテーションパターン）

Reactコンポーネントを「Presentational Component（表示専用）」と「Container Component（ロジック担当）」に分ける設計手法

###  Presentational Component（プレゼンテーショナルコンポーネント）

- 主にUIの描画に専念し、見た目やレイアウトの実装に集中します。
- 受け取ったpropsに基づいて表示を行います。
- ロジック（データ取得や状態管理）は含まず、純粋に「どう見えるか」に注力します。
- 再利用性が高く、異なるコンテナから同じUIコンポーネントを利用することが可能になります。

### Container Component（コンテナコンポーネント）

- データ取得、状態管理、ビジネスロジックなど、アプリケーションの動作部分を担当します。
- Presentationalコンポーネントに必要なデータやハンドラを用意し、propsとして渡します。
- UIの見た目の実装には関与せず、内部で処理や状態を管理します。
- UIロジックと表示ロジックが分離され、保守性やテストの容易さが向上します。

### 仕組みの流れ
以下の図は、Container/Presentationalパターンの基本的な流れを示しています。

```
┌────────────────────────┐
│ Container Component    │
│  - データ取得           │
│  - 状態管理             │
│  - ビジネスロジック      │
└────────────┬───────────┘
             │ props（データ＆コールバック関数）
             ▼
┌────────────────────────┐
│ Presentational Component│
│  - UIの描画              │
│  - 受け取ったpropsに基づき表示 │
└────────────────────────┘
```

- Container Componentは、必要なデータやイベントハンドラを管理し、子のPresentational Componentにpropsを渡します。
- Presentational Componentは、受け取った情報を使って見た目をレンダリングするだけのシンプルなコンポーネントとなります。

## HOCパターン（Higher-Order Component パターン）

関数型プログラミングの「高階関数」の考え方をReactコンポーネントに応用したものになります。
高階関数とは、関数を引数として受け取るか、または関数を戻り値として返す関数のことを指します。
HOCパターンの場合だと、既存のコンポーネントを引数に取り、機能を拡張した新しいコンポーネントを返す関数のこと

### 基本的な仕組み
HOCは以下のような流れで動作します。

```
┌────────────────────────────┐
│        Original Component  │
│  (既存のコンポーネント)     │
└────────────┬───────────────┘
             │ HOC関数に渡す
             ▼
┌────────────────────────────┐
│   Higher-Order Component   │
│  (機能拡張した新しいコンポーネント) │
└────────────────────────────┘
```

## Render Propsパターン（レンダープロップスパターン）

コンポーネントに「レンダリング方法」を関数として渡す設計手法です。
これにより、コンポーネント内部でロジックを実装しつつ、どのようにUIをレンダリングするかを呼び出し側に委譲できます。
結果として、UIロジックと表示ロジックの分離が実現し、柔軟で再利用可能なコンポーネントの設計が可能

### 基本的な仕組み

- Render Props
  - コンポーネントがプロップとして関数（レンダープロップ）を受け取ります
  - その関数を実行して、UIをどのように描画するかを決定します。
- ロジックの共有
  - ロジック部分（状態管理やイベント処理など）をコンポーネント内で実装し、必要なデータをレンダープロップ関数に渡します。
  - 呼び出し側はそのデータを使って、自由にUIを構築することができます。