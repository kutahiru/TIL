# ルーティング

```bash
docker compose exec app bash
npm install react-router-dom@7
```

## BrowserRouterの設定

React Router を有効にするために、アプリ全体を<BrowserRouter>でラップする
Viteを使用したプロジェクトの場合、エントリーポイントは src/main.tsxになる。

```tsx
// src/main.tsx
import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import './index.css'
import App from './App.tsx'
import { BrowserRouter } from "react-router-dom"; //BrowserRouterの設定

createRoot(document.getElementById('root')!).render(
  <StrictMode>
    <BrowserRouter> /*BrowserRouterの設定*/
      <App />
    </BrowserRouter>
  </StrictMode>,
)
```

HomePageコンポーネント
<Link to="/tasks">でリンク先を設定している

```tsx
// src/pages/home/index.tsx
import { Link } from "react-router-dom";

export default function HomePage() {
  return (
    <div>
      <h1>タスク管理アプリ</h1>
      <p>
        React×Vite×React Routerで作るタスク管理アプリです。
      </p>
      <Link to="/tasks"> /*Linkコンポーネントは、React Routerのリンクコンポーネント*/
        タスク一覧へ
      </Link>
    </div>
  );
}
```

### トップページのルーティング設定

Appコンポーネントは、アプリ全体のルーティングを管理するコンポーネント
React Routerの<Routes>と<Route>コンポーネントを使用して、各URLに対して表示するコンポーネントを紐づける

```tsx
// src/App.tsx
import { Route, Routes } from "react-router-dom";
import HomePage from "./pages/home";

function App() {
  return (
    <Routes>
      <Route path="/" element={<HomePage />} />
    </Routes>
  );
}

export default App;
```

#### ルーティングの参照先

```tsx
import HomePage from "./pages/home";

この場合、バンドラーは以下の順序で探索します：
1. ./pages/home          ← ファイルなし
2. ./pages/home.tsx      ← ファイルなし  
3. ./pages/home.ts       ← ファイルなし
4. ./pages/home.jsx      ← ファイルなし
5. ./pages/home.js       ← ファイルなし
6. ./pages/home/index.tsx ← ✅ 見つかった！
```

### タスク一覧ページのルーティング設定

<Route path="/tasks" element={<TaskListPage />} />を追加して、
/tasksパスにアクセスした時にTaskListPageコンポーネントを表示するように設定

```tsx
// src/App.tsx
import { Route, Routes } from "react-router-dom";
import HomePage from "./pages/home";
import TaskListPage from "./pages/tasks/taskListPage";

function App() {
  return (
    <Routes>
      <Route path="/" element={<HomePage />} />
      <Route path="/tasks" element={<TaskListPage />} />
      <Route path="/tasks/:id" element={<TaskDetailPage />} /> 
    </Routes>
  );
}

export default App;
```

